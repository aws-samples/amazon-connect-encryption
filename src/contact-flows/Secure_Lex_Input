{"Version":"2019-10-30","StartAction":"aa215e4b-d13b-4e77-ace6-f88764a4e0d3","Metadata":{"entryPointPosition":{"x":17.6,"y":75.2},"ActionMetadata":{"aa215e4b-d13b-4e77-ace6-f88764a4e0d3":{"position":{"x":116,"y":56.800000000000004}},"db324965-9676-4abe-b127-e9fb56d3e783":{"position":{"x":331.20000000000005,"y":100},"dynamicParams":[]},"d32e87bb-2435-4718-bae5-d758125d5232":{"position":{"x":576.8000000000001,"y":84},"parameters":{"LexSessionAttributes":{"range":{"useDynamic":true}}},"dynamicMetadata":{"x-amz-lex:barge-in-enabled:*:*":false,"x-amz-lex:max-speech-duration-ms:*:*":false,"range":true},"useLexBotDropdown":true,"conditionMetadata":[{"id":"f81d46a8-1f68-41f2-938b-ca010e12e075","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"inputValid"}]},"c21dade1-10f2-4d84-90d8-f6217048bfe6":{"position":{"x":823.2,"y":96},"conditionMetadata":[{"id":"bedca695-886e-46ca-880d-d5795b862df3","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]},"fa3d34ba-1c58-4073-9f33-d23f6c88c755":{"position":{"x":331.20000000000005,"y":352.8},"parameters":{"Attributes":{"encrypted_cc":{"useDynamic":true}}},"dynamicParams":["encrypted_cc"]},"988982d4-7651-4461-94b1-6dc9fc89bdf4":{"position":{"x":561.6,"y":348.8},"dynamicParams":[]},"65a1f91f-0410-4d90-a497-d969dd66202e":{"position":{"x":794.4000000000001,"y":340.8},"parameters":{"LexSessionAttributes":{"range":{"useDynamic":true}}},"dynamicMetadata":{"x-amz-lex:max-speech-duration-ms:*:*":false,"x-amz-lex:barge-in-enabled:*:*":false,"range":true},"useLexBotDropdown":true,"conditionMetadata":[{"id":"2688171e-257f-44bf-b2b3-9f1d49aeae5c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"inputValid"}]},"581aeb98-7501-4cd9-a2f1-0e18a927fce8":{"position":{"x":1028,"y":346.40000000000003},"conditionMetadata":[{"id":"0413ea00-680a-4f3f-a4f3-0dbe60e81cf3","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]},"6269c86b-3f12-42ac-b594-f51e723223d6":{"position":{"x":1264.8000000000002,"y":424.8}},"3111ffb7-47c9-4df7-ad6c-3800b4b9a9e1":{"position":{"x":1060,"y":92.80000000000001}},"cb0c5c46-25c9-4bc8-b76c-d6587ffad399":{"position":{"x":1261.6000000000001,"y":627.2},"parameters":{"Attributes":{"encrypted_zip":{"useDynamic":true}}},"dynamicParams":["encrypted_zip"]},"690d3a93-2341-4015-bed4-1ffeccd0cffa":{"position":{"x":1562.4,"y":460.8}},"2ffbaf9b-7125-4de4-835d-cb2ed937a6c4":{"position":{"x":1782.4,"y":504}}},"name":"Secure_Lex_Input","description":"","type":"contactFlow","status":"published","hash":{}},"Actions":[{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"aa215e4b-d13b-4e77-ace6-f88764a4e0d3","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"db324965-9676-4abe-b127-e9fb56d3e783"}},{"Parameters":{"Attributes":{"range":"15-16"}},"Identifier":"db324965-9676-4abe-b127-e9fb56d3e783","Type":"UpdateContactAttributes","Transitions":{"NextAction":"d32e87bb-2435-4718-bae5-d758125d5232","Errors":[{"NextAction":"d32e87bb-2435-4718-bae5-d758125d5232","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Enter your 16 digit credit card number","LexBot":{"Name":"secure_LexInput","Region":"us-east-1","Alias":"$LATEST"},"LexSessionAttributes":{"x-amz-lex:barge-in-enabled:*:*":"true","x-amz-lex:max-speech-duration-ms:*:*":"15000","range":"$.Attributes.range"}},"Identifier":"d32e87bb-2435-4718-bae5-d758125d5232","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"c21dade1-10f2-4d84-90d8-f6217048bfe6","Conditions":[{"NextAction":"c21dade1-10f2-4d84-90d8-f6217048bfe6","Condition":{"Operator":"Equals","Operands":["inputValid"]}}],"Errors":[{"NextAction":"c21dade1-10f2-4d84-90d8-f6217048bfe6","ErrorType":"NoMatchingCondition"},{"NextAction":"c21dade1-10f2-4d84-90d8-f6217048bfe6","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Lex.SessionAttributes.isValid"},"Identifier":"c21dade1-10f2-4d84-90d8-f6217048bfe6","Type":"Compare","Transitions":{"NextAction":"3111ffb7-47c9-4df7-ad6c-3800b4b9a9e1","Conditions":[{"NextAction":"fa3d34ba-1c58-4073-9f33-d23f6c88c755","Condition":{"Operator":"Equals","Operands":["true"]}}],"Errors":[{"NextAction":"3111ffb7-47c9-4df7-ad6c-3800b4b9a9e1","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Attributes":{"encrypted_cc":"$.Lex.SessionAttributes.creditcard"}},"Identifier":"fa3d34ba-1c58-4073-9f33-d23f6c88c755","Type":"UpdateContactAttributes","Transitions":{"NextAction":"988982d4-7651-4461-94b1-6dc9fc89bdf4","Errors":[{"NextAction":"988982d4-7651-4461-94b1-6dc9fc89bdf4","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"range":"5-5"}},"Identifier":"988982d4-7651-4461-94b1-6dc9fc89bdf4","Type":"UpdateContactAttributes","Transitions":{"NextAction":"65a1f91f-0410-4d90-a497-d969dd66202e","Errors":[{"NextAction":"65a1f91f-0410-4d90-a497-d969dd66202e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Enter your 5 digit zip code","LexBot":{"Name":"secure_LexInput","Region":"us-east-1","Alias":"$LATEST"},"LexSessionAttributes":{"x-amz-lex:max-speech-duration-ms:*:*":"5000","x-amz-lex:barge-in-enabled:*:*":"true","range":"$.Attributes.range"}},"Identifier":"65a1f91f-0410-4d90-a497-d969dd66202e","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"581aeb98-7501-4cd9-a2f1-0e18a927fce8","Conditions":[{"NextAction":"581aeb98-7501-4cd9-a2f1-0e18a927fce8","Condition":{"Operator":"Equals","Operands":["inputValid"]}}],"Errors":[{"NextAction":"581aeb98-7501-4cd9-a2f1-0e18a927fce8","ErrorType":"NoMatchingCondition"},{"NextAction":"581aeb98-7501-4cd9-a2f1-0e18a927fce8","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Lex.SessionAttributes.isValid"},"Identifier":"581aeb98-7501-4cd9-a2f1-0e18a927fce8","Type":"Compare","Transitions":{"NextAction":"6269c86b-3f12-42ac-b594-f51e723223d6","Conditions":[{"NextAction":"cb0c5c46-25c9-4bc8-b76c-d6587ffad399","Condition":{"Operator":"Equals","Operands":["true"]}}],"Errors":[{"NextAction":"6269c86b-3f12-42ac-b594-f51e723223d6","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"LoopCount":"2"},"Identifier":"6269c86b-3f12-42ac-b594-f51e723223d6","Type":"Loop","Transitions":{"NextAction":"cb0c5c46-25c9-4bc8-b76c-d6587ffad399","Conditions":[{"NextAction":"65a1f91f-0410-4d90-a497-d969dd66202e","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"cb0c5c46-25c9-4bc8-b76c-d6587ffad399","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"LoopCount":"2"},"Identifier":"3111ffb7-47c9-4df7-ad6c-3800b4b9a9e1","Type":"Loop","Transitions":{"NextAction":"690d3a93-2341-4015-bed4-1ffeccd0cffa","Conditions":[{"NextAction":"d32e87bb-2435-4718-bae5-d758125d5232","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"690d3a93-2341-4015-bed4-1ffeccd0cffa","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"Attributes":{"encrypted_zip":"$.Lex.SessionAttributes.zipcode"}},"Identifier":"cb0c5c46-25c9-4bc8-b76c-d6587ffad399","Type":"UpdateContactAttributes","Transitions":{"NextAction":"690d3a93-2341-4015-bed4-1ffeccd0cffa","Errors":[{"NextAction":"690d3a93-2341-4015-bed4-1ffeccd0cffa","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Thank you, goodbye."},"Identifier":"690d3a93-2341-4015-bed4-1ffeccd0cffa","Type":"MessageParticipant","Transitions":{"NextAction":"2ffbaf9b-7125-4de4-835d-cb2ed937a6c4"}},{"Parameters":{},"Identifier":"2ffbaf9b-7125-4de4-835d-cb2ed937a6c4","Type":"DisconnectParticipant","Transitions":{}}]}